@prefix fhir: <http://hl7.org/fhir/> .
@prefix loinc: <http://loinc.org/rdf#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sct: <http://snomed.info/id/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# - resource -------------------------------------------------------------------

<http://openhie.org/fhir/hiv-casereporting/Bundle/HIVCrBundleExample> a fhir:Bundle;
  fhir:nodeRole fhir:treeRoot;
  fhir:Resource.id [ fhir:value "HIVCrBundleExample"];
  fhir:Bundle.type [ fhir:value "document"];
  fhir:Bundle.entry [
     fhir:index 0;
     fhir:Bundle.entry.fullUrl [ fhir:value "http://test.org/fhir/Composition/HIVCrCompositionExample" ];
     fhir:Bundle.entry.resource <http://test.org/fhir/Composition/HIVCrCompositionExample>
  ], [
     fhir:index 1;
     fhir:Bundle.entry.fullUrl [ fhir:value "http://test.org/fhir/Encounter/HIVCrEncounterExample" ];
     fhir:Bundle.entry.resource <http://test.org/fhir/Encounter/HIVCrEncounterExample>
  ], [
     fhir:index 2;
     fhir:Bundle.entry.fullUrl [ fhir:value "http://test.org/fhir/Location/HIVCrLocationExample" ];
     fhir:Bundle.entry.resource <http://test.org/fhir/Location/HIVCrLocationExample>
  ], [
     fhir:index 3;
     fhir:Bundle.entry.fullUrl [ fhir:value "http://test.org/fhir/Patient/HIVPatientExample" ];
     fhir:Bundle.entry.resource <http://test.org/fhir/Patient/HIVPatientExample>
  ], [
     fhir:index 4;
     fhir:Bundle.entry.fullUrl [ fhir:value "http://test.org/fhir/Condition/HIVConditionExample" ];
     fhir:Bundle.entry.resource <http://test.org/fhir/Condition/HIVConditionExample>
  ], [
     fhir:index 5;
     fhir:Bundle.entry.fullUrl [ fhir:value "http://test.org/fhir/Observation/ViralLoadExample" ];
     fhir:Bundle.entry.resource <http://test.org/fhir/Observation/ViralLoadExample>
  ] .

<http://test.org/fhir/Composition/HIVCrCompositionExample> a fhir:Composition;
  fhir:Resource.id [ fhir:value "HIVCrCompositionExample"];
  fhir:Resource.meta [
     fhir:Meta.profile [
       fhir:value "http://openhie.org/fhir/hiv-casereporting/StructureDefinition/hiv-cr-composition";
       fhir:index 0;
       fhir:link <http://openhie.org/fhir/hiv-casereporting/StructureDefinition/hiv-cr-composition>
     ]
  ];
  fhir:DomainResource.text [
     fhir:Narrative.status [ fhir:value "generated" ];
     fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><p><b>identifier</b>: id: 1111</p><p><b>status</b>: final</p><p><b>type</b>: <span title=\"Codes: {http://loinc.org 95412-3}\">COVID-19 case report</span></p><p><b>encounter</b>: <a href=\"#Encounter_HIVCrEncounterExample\">See above (Encounter/HIVCrEncounterExample)</a></p><p><b>date</b>: 2021-05-18</p><p><b>author</b>: <a href=\"Practitioner-HIVCrPractitionerExample.html\">Generated Summary: Homer , Simpson </a></p><p><b>title</b>: HIV Case Report</p></div>"
  ];
  fhir:Composition.identifier [
     fhir:Identifier.system [ fhir:value "http://test.org/identifier/hiv-case-report" ];
     fhir:Identifier.value [ fhir:value "1111" ]
  ];
  fhir:Composition.status [ fhir:value "final"];
  fhir:Composition.type [
     fhir:CodeableConcept.coding [
       fhir:index 0;
       a loinc:95412-3;
       fhir:Coding.system [ fhir:value "http://loinc.org" ];
       fhir:Coding.code [ fhir:value "95412-3" ]
     ]
  ];
  fhir:Composition.encounter [
     fhir:link <http://openhie.org/fhir/hiv-casereporting/Encounter/HIVCrEncounterExample>;
     fhir:Reference.reference [ fhir:value "Encounter/HIVCrEncounterExample" ]
  ];
  fhir:Composition.date [ fhir:value "2021-05-18"^^xsd:date];
  fhir:Composition.author [
     fhir:index 0;
     fhir:link <http://openhie.org/fhir/hiv-casereporting/Practitioner/HIVCrPractitionerExample>;
     fhir:Reference.reference [ fhir:value "Practitioner/HIVCrPractitionerExample" ]
  ];
  fhir:Composition.title [ fhir:value "HIV Case Report"];
  fhir:Composition.section [
     fhir:index 0;
     fhir:Composition.section.title [ fhir:value "hivPatient" ];
     fhir:Composition.section.code [
       fhir:CodeableConcept.coding [
         fhir:index 0;
         fhir:Coding.system [ fhir:value "http://test.org/sectionCode" ];
         fhir:Coding.code [ fhir:value "hivPatient" ]
       ]
     ];
     fhir:Composition.section.entry [
       fhir:index 0;
       fhir:link <http://openhie.org/fhir/hiv-casereporting/Patient/HIVPatientExample>;
       fhir:Reference.reference [ fhir:value "Patient/HIVPatientExample" ]
     ]
  ], [
     fhir:index 1;
     fhir:Composition.section.title [ fhir:value "hivCondition" ];
     fhir:Composition.section.code [
       fhir:CodeableConcept.coding [
         fhir:index 0;
         fhir:Coding.system [ fhir:value "http://test.org/sectionCode" ];
         fhir:Coding.code [ fhir:value "hivCondition" ]
       ]
     ];
     fhir:Composition.section.entry [
       fhir:index 0;
       fhir:link <http://openhie.org/fhir/hiv-casereporting/Condition/HIVConditionExample>;
       fhir:Reference.reference [ fhir:value "Condition/HIVConditionExample" ]
     ]
  ], [
     fhir:index 2;
     fhir:Composition.section.title [ fhir:value "arvTherapySummary" ];
     fhir:Composition.section.code [
       fhir:CodeableConcept.coding [
         fhir:index 0;
         fhir:Coding.system [ fhir:value "http://test.org/sectionCode" ];
         fhir:Coding.code [ fhir:value "arvTherapySummary" ]
       ]
     ];
     fhir:Composition.section.entry [
       fhir:index 0;
       fhir:link <http://openhie.org/fhir/hiv-casereporting/MedicationStatement/ARVTherapySummaryExample>;
       fhir:Reference.reference [ fhir:value "MedicationStatement/ARVTherapySummaryExample" ]
     ]
  ], [
     fhir:index 3;
     fhir:Composition.section.title [ fhir:value "viralLoad" ];
     fhir:Composition.section.code [
       fhir:CodeableConcept.coding [
         fhir:index 0;
         fhir:Coding.system [ fhir:value "http://test.org/sectionCode" ];
         fhir:Coding.code [ fhir:value "viralLoad" ]
       ]
     ];
     fhir:Composition.section.entry [
       fhir:index 0;
       fhir:link <http://openhie.org/fhir/hiv-casereporting/Observation/ViralLoadExample>;
       fhir:Reference.reference [ fhir:value "Observation/ViralLoadExample" ]
     ]
  ] .

<http://test.org/fhir/Encounter/HIVCrEncounterExample> a fhir:Encounter;
  fhir:Resource.id [ fhir:value "HIVCrEncounterExample"];
  fhir:DomainResource.text [
     fhir:Narrative.status [ fhir:value "generated" ];
     fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><p><b>status</b>: finished</p><p><b>class</b>: <span title=\"{http://terminology.hl7.org/CodeSystem/v3-ActCode ACUTE}\">inpatient acute</span></p><h3>Locations</h3><table class=\"grid\"><tr><td>-</td><td><b>Location</b></td></tr><tr><td>*</td><td><a href=\"#Location_HIVCrLocationExample\">See above (Location/HIVCrLocationExample)</a></td></tr></table></div>"
  ];
  fhir:Encounter.status [ fhir:value "finished"];
  fhir:Encounter.class [
     fhir:Coding.system [ fhir:value "http://terminology.hl7.org/CodeSystem/v3-ActCode" ];
     fhir:Coding.code [ fhir:value "ACUTE" ]
  ];
  fhir:Encounter.location [
     fhir:index 0;
     fhir:Encounter.location.location [
       fhir:link <http://openhie.org/fhir/hiv-casereporting/Location/HIVCrLocationExample>;
       fhir:Reference.reference [ fhir:value "Location/HIVCrLocationExample" ]
     ]
  ] .

<http://test.org/fhir/Location/HIVCrLocationExample> a fhir:Location;
  fhir:Resource.id [ fhir:value "HIVCrLocationExample"];
  fhir:DomainResource.text [
     fhir:Narrative.status [ fhir:value "generated" ];
     fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><p><b>address</b>: KZN ZA </p></div>"
  ];
  fhir:Location.address [
     fhir:Address.state [ fhir:value "KZN" ];
     fhir:Address.country [ fhir:value "ZA" ]
  ] .

<http://test.org/fhir/Patient/HIVPatientExample> a fhir:Patient;
  fhir:Resource.id [ fhir:value "HIVPatientExample"];
  fhir:Resource.meta [
     fhir:Meta.profile [
       fhir:value "http://openhie.org/fhir/hiv-casereporting/StructureDefinition/hiv-patient";
       fhir:index 0;
       fhir:link <http://openhie.org/fhir/hiv-casereporting/StructureDefinition/hiv-patient>
     ]
  ];
  fhir:DomainResource.text [
     fhir:Narrative.status [ fhir:value "generated" ];
     fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><p><b>identifier</b>: id: ART1234567, id: NAT1234567, id: EMR1234567</p><p><b>active</b>: true</p><p><b>name</b>: Jane , Smith </p><p><b>telecom</b>: <a href=\"mailto:johndoe@erewhon.com\">johndoe@erewhon.com</a>, <a href=\"tel:+27825556666\">+27825556666</a></p><p><b>gender</b>: female</p><p><b>birthDate</b>: 1986-06-04</p><p><b>address</b>: </p><ul><li>Cape Town Western Province South Africa (HOME)</li><li>East London Eastern Cape South Africa (TEMP)</li></ul></div>"
  ];
  fhir:Patient.identifier [
     fhir:index 0;
     fhir:Identifier.system [ fhir:value "https://basespecs.vn/NamingSystem/ARTIdentifiers" ];
     fhir:Identifier.value [ fhir:value "ART1234567" ]
  ], [
     fhir:index 1;
     fhir:Identifier.system [ fhir:value "https://basespecs.vn/NamingSystem/NationalIdentifiers" ];
     fhir:Identifier.value [ fhir:value "NAT1234567" ]
  ], [
     fhir:index 2;
     fhir:Identifier.system [ fhir:value "https://basespecs.vn/NamingSystem/POSIdentifiers" ];
     fhir:Identifier.value [ fhir:value "EMR1234567" ]
  ];
  fhir:Patient.active [ fhir:value "true"^^xsd:boolean];
  fhir:Patient.name [
     fhir:index 0;
     fhir:HumanName.given [
       fhir:value "Jane";
       fhir:index 0
     ]
  ], [
     fhir:index 1;
     fhir:HumanName.family [ fhir:value "Smith" ]
  ];
  fhir:Patient.telecom [
     fhir:index 0;
     fhir:ContactPoint.system [ fhir:value "email" ];
     fhir:ContactPoint.value [ fhir:value "johndoe@erewhon.com" ]
  ], [
     fhir:index 1;
     fhir:ContactPoint.system [ fhir:value "phone" ];
     fhir:ContactPoint.value [ fhir:value "+27825556666" ]
  ];
  fhir:Patient.gender [ fhir:value "female"];
  fhir:Patient.birthDate [ fhir:value "1986-06-04"^^xsd:date];
  fhir:Patient.address [
     fhir:index 0;
     fhir:Address.use [ fhir:value "home" ];
     fhir:Address.city [ fhir:value "Cape Town" ];
     fhir:Address.district [ fhir:value "City of Cape Town" ];
     fhir:Address.state [ fhir:value "Western Province" ];
     fhir:Address.country [ fhir:value "South Africa" ]
  ], [
     fhir:index 1;
     fhir:Address.use [ fhir:value "temp" ];
     fhir:Address.city [ fhir:value "East London" ];
     fhir:Address.district [ fhir:value "Buffalo City Metropolitan Municipality" ];
     fhir:Address.state [ fhir:value "Eastern Cape" ];
     fhir:Address.country [ fhir:value "South Africa" ]
  ] .

<http://test.org/fhir/Condition/HIVConditionExample> a fhir:Condition;
  fhir:Resource.id [ fhir:value "HIVConditionExample"];
  fhir:Resource.meta [
     fhir:Meta.profile [
       fhir:value "http://openhie.org/fhir/hiv-casereporting/StructureDefinition/hiv-condition";
       fhir:index 0;
       fhir:link <http://openhie.org/fhir/hiv-casereporting/StructureDefinition/hiv-condition>
     ]
  ];
  fhir:DomainResource.text [
     fhir:Narrative.status [ fhir:value "generated" ];
     fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><p><b>clinicalStatus</b>: <span title=\"Codes: \">active</span></p><p><b>verificationStatus</b>: <span title=\"Codes: \">confirmed</span></p><p><b>code</b>: <span title=\"Codes: {http://snomed.info/sct 86406008}\">Human immunodeficiency virus infection</span></p><p><b>subject</b>: <a href=\"#Patient_HIVPatientExample\">See above (Patient/HIVPatientExample)</a></p></div>"
  ];
  fhir:Condition.clinicalStatus [
     fhir:CodeableConcept.coding [
       fhir:index 0;
       fhir:Coding.code [ fhir:value "active" ]
     ]
  ];
  fhir:Condition.verificationStatus [
     fhir:CodeableConcept.coding [
       fhir:index 0;
       fhir:Coding.code [ fhir:value "confirmed" ]
     ]
  ];
  fhir:Condition.code [
     fhir:CodeableConcept.coding [
       fhir:index 0;
       a sct:86406008;
       fhir:Coding.system [ fhir:value "http://snomed.info/sct" ];
       fhir:Coding.code [ fhir:value "86406008" ]
     ]
  ];
  fhir:Condition.subject [
     fhir:link <http://openhie.org/fhir/hiv-casereporting/Patient/HIVPatientExample>;
     fhir:Reference.reference [ fhir:value "Patient/HIVPatientExample" ]
  ] .

<http://test.org/fhir/Observation/ViralLoadExample> a fhir:Observation;
  fhir:Resource.id [ fhir:value "ViralLoadExample"];
  fhir:Resource.meta [
     fhir:Meta.profile [
       fhir:value "http://openhie.org/fhir/hiv-casereporting/StructureDefinition/hiv-viral-load";
       fhir:index 0;
       fhir:link <http://openhie.org/fhir/hiv-casereporting/StructureDefinition/hiv-viral-load>
     ]
  ];
  fhir:DomainResource.text [
     fhir:Narrative.status [ fhir:value "generated" ];
     fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative</b></p><p></p><p><b>code</b>: <span title=\"Codes: {http://test.org/obs VL-RESULT}\">Viral load result</span></p><p><b>subject</b>: <a href=\"#Patient_HIVPatientExample\">See above (Patient/HIVPatientExample)</a></p><p><b>value</b>: <span title=\"Codes: {http://test.org/obs/vl-result &lt;200}\">less than 200 - undetectable</span></p></div>"
  ];
  fhir:Observation.status [ fhir:value "final"];
  fhir:Observation.code [
     fhir:CodeableConcept.coding [
       fhir:index 0;
       fhir:Coding.system [ fhir:value "http://test.org/obs" ];
       fhir:Coding.code [ fhir:value "VL-RESULT" ];
       fhir:Coding.display [ fhir:value "Viral load result" ]
     ]
  ];
  fhir:Observation.subject [
     fhir:link <http://openhie.org/fhir/hiv-casereporting/Patient/HIVPatientExample>;
     fhir:Reference.reference [ fhir:value "Patient/HIVPatientExample" ]
  ];
  fhir:Observation.valueCodeableConcept [
     fhir:CodeableConcept.coding [
       fhir:index 0;
       fhir:Coding.system [ fhir:value "http://test.org/obs/vl-result" ];
       fhir:Coding.code [ fhir:value "<200" ];
       fhir:Coding.display [ fhir:value "less than 200 - undetectable" ]
     ]
  ] .

# - ontology header ------------------------------------------------------------

<http://openhie.org/fhir/hiv-casereporting/Bundle/HIVCrBundleExample.ttl> a owl:Ontology;
  owl:imports fhir:fhir.ttl .

# -------------------------------------------------------------------------------------

